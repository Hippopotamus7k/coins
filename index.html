<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ö–∞–ø–∏–∫–æ–∏–Ω—ã ‚Äî cards_7kbot</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f0f2f5;
      margin: 0;
      padding: 20px;
      display: flex;
      justify-content: center;
    }
    .container {
      background: white;
      border-radius: 16px;
      padding: 20px;
      width: 100%;
      max-width: 400px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      margin-top: 0;
      color: #1a73e8;
    }
    input {
      width: 100%;
      padding: 12px;
      margin: 12px 0;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 16px;
      text-align: center;
      letter-spacing: 2px;
      text-transform: uppercase;
    }
    button {
      width: 100%;
      padding: 12px;
      margin: 8px 0;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
    }
    .primary { background: #1a73e8; color: white; }
    .success { background: #34a853; color: white; }
    .warning { background: #fbbc04; color: black; }
    .danger { background: #ea4335; color: white; }
    .hidden { display: none !important; }
    .info {
      background: #e8f0fe;
      padding: 12px;
      border-radius: 8px;
      margin: 12px 0;
      font-size: 14px;
      color: #1967d2;
    }
  </style>
</head>
<body>
  <div class="container" id="authView">
    <h2>ü™ô –ö–∞–ø–∏–∫–æ–∏–Ω—ã</h2>
    <p>–î–ª—è –≤—Ö–æ–¥–∞ –ø–æ–ª—É—á–∏—Ç–µ –∫–æ–¥ –≤ –±–æ—Ç–µ:</p>
    <button class="primary" onclick="getCode()">üîë –ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥</button>
    <div class="info">
      –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –≤—ã –ø–µ—Ä–µ–π–¥—ë—Ç–µ –≤ –±–æ—Ç–∞.<br>
      –¢–∞–º –ø–æ—è–≤–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–æ–¥–æ–º ‚Äî —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ.
    </div>
    <input type="text" id="authCode" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏–∑ –±–æ—Ç–∞" maxlength="8" />
    <button class="success" onclick="submitAuth()">‚úÖ –í–æ–π—Ç–∏</button>
  </div>

  <div class="container hidden" id="mainView">
    <h2>üõí –ú–∞–≥–∞–∑–∏–Ω</h2>
    <button class="warning" onclick="buyPack('mini')">–ö—É–ø–∏—Ç—å Mini Pack (3300)</button>
    <button class="warning" onclick="buyPack('superheroes')">–ö—É–ø–∏—Ç—å SuperHeroes (6500)</button>

    <h2>üéÆ –ò–≥—Ä—ã</h2>
    <button class="danger" onclick="playCoin()">–°—ã–≥—Ä–∞—Ç—å –≤ –º–æ–Ω–µ—Ç–∫—É</button>

    <div style="margin-top: 20px;">
      <button class="primary" onclick="reauth()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å</button>
    </div>
  </div>

  <script>
    const BOT_USERNAME = "cards_7kbot";
    const userId = window.Telegram?.WebApp?.initDataUnsafe?.user?.id;

    if (!userId) {
      alert("‚ö†Ô∏è –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram!");
    }

    function getCode() {
      // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –±–æ—Ç–µ –ø–æ –∫–æ–º–∞–Ω–¥–µ /start get_code
      window.location.href = `https://t.me/${BOT_USERNAME}?start=get_code`;
    }

    function submitAuth() {
      const code = document.getElementById("authCode").value.trim().toUpperCase();
      if (!code || code.length < 6) {
        alert("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∫–æ–¥ (6‚Äì8 —Å–∏–º–≤–æ–ª–æ–≤).");
        return;
      }
      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ –¥–µ–ª–∞–µ—Ç—Å—è –∑–¥–µ—Å—å ‚Äî –≤—Å—ë –≤ –±–æ—Ç–µ!
      // –ü—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
      document.getElementById("authView").classList.add("hidden");
      document.getElementById("mainView").classList.remove("hidden");
    }

    function buyPack(pack) {
      const price = pack === "mini" ? 3300 : 6500;
      const packName = pack === "mini" ? "Mini Pack" : "SuperHeroes";
      if (!confirm(`–ö—É–ø–∏—Ç—å ${packName} –∑–∞ ${price} –∫–æ–∏–Ω–æ–≤?`)) return;

      // Deep link: –±–æ—Ç —Å–∞–º –ø—Ä–æ–≤–µ—Ä–∏—Ç –±–∞–ª–∞–Ω—Å –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç –ø–æ–∫—É–ø–∫—É
      window.location.href = `https://t.me/${BOT_USERNAME}?start=webbuy_${pack}_${userId}`;
    }

    function playCoin() {
      if (!confirm("–°—ã–≥—Ä–∞—Ç—å –≤ –º–æ–Ω–µ—Ç–∫—É? –°—Ç–∞–≤–∫–∞: 100 –∫–æ–∏–Ω–æ–≤.")) return;
      window.location.href = `https://t.me/${BOT_USERNAME}?start=webgame_coin_${userId}`;
    }

    function reauth() {
      // –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ –≤–≤–æ–¥—É –∫–æ–¥–∞ ‚Äî –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥ –¥–ª—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞
      document.getElementById("mainView").classList.add("hidden");
      document.getElementById("authView").classList.remove("hidden");
      document.getElementById("authCode").value = "";
    }
  </script>
</body>
</html>
